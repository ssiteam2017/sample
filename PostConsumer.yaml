# UCM Consumer Search Swagger Spec.
# Be aware that YAML has indentation based scoping.
# Code completion support is available so start typing for available options.
swagger: '2.0'

# This is your document metadata
info:
  version: 1.0.0
  title: <PostConsumer>
  termsOfService: http://rccl.com/terms/
  contact: 
    name: GuestAccount team
    url: http://rccl.io
  license:
    name: RCCL
    url: http://rccl.com/licenses/by/1.0/
basePath: /v1
schemes:
  - http
  - https
consumes:
  - application/json
produces:
  - application/json  

# Describe your paths here
paths:
  /consumers:
    post:
      description: | 
         Service to create/update the consumer in UCM.
      #operationId: addConsumer
      produces:
        - application/json    
      parameters:
        - in: body
          name: body
          description: ""
          required: true
          schema:
            $ref: '#/definitions/consumerIn'  
          
      # Expected responses for this operation:
      responses:
        # Response code
        "200":
          description: Successful response
          schema:
              $ref: '#/definitions/consumerData'
        "422":
          description: Unprocessable entry
          schema:
              $ref: '#/definitions/errorUnprocessable'      
        default:
          description: Error payload
          schema:
              $ref: '#/definitions/error'      
          # A schema describing your response object.
          # Use JSON Schema format
          #examples:
            #application/json:
              #{consumerData: {consumerId: 16398698}}
                
definitions:
  consumerIn:
    type: object
    required:
      - firstName
      - lastName
      - email
      - crossReferenceId
    properties:
      firstName:
        type: string
        example: John
      lastName:
        type: string
        example: Smith
      email: 
        type: string
        example: John@Smith.com
      crossReferenceId:
        type: string
        example: B2C
      birthDate:
        type: string
        example: "1960-02-08"
      consumerId:
        type: string
        example: "16398698"
  consumerData:
    type: object
    required:
      - consumerId
    properties:
      consumerId:
        type: string
  errorUnprocessable:
    type: object
    required:
      - message
    properties:
      message:
        type: string      
  error:
    type: object
    required:
      - message
    properties:
      message:
        type: string      
        